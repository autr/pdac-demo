import{S as e,i as t,s,F as i,p as o,q as a,h as n,u as r,e as c,w as l,x as h,l as d,a as u,d as v,X as f,a4 as g,o as m,a5 as y}from"./client.d52c91b8.js";function w(e){let t,s;return{c(){t=i("svg"),s=i("path"),this.h()},l(e){t=o(e,"svg",{width:!0,height:!0,viewBox:!0},1);var i=a(t);s=o(i,"path",{d:!0,fill:!0},1),a(s).forEach(n),i.forEach(n),this.h()},h(){r(s,"d","M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z"),r(s,"fill",e[2]),r(t,"width",e[0]),r(t,"height",e[1]),r(t,"viewBox",e[3])},m(e,i){c(e,t,i),l(t,s)},p(e,i){let[o]=i;4&o&&r(s,"fill",e[2]),1&o&&r(t,"width",e[0]),2&o&&r(t,"height",e[1]),8&o&&r(t,"viewBox",e[3])},i:h,o:h,d(e){e&&n(t)}}}function p(e,t,s){let{size:i="1em"}=t,{width:o=i}=t,{height:a=i}=t,{color:n="currentColor"}=t,{viewBox:r="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&s(4,i=e.size),"width"in e&&s(0,o=e.width),"height"in e&&s(1,a=e.height),"color"in e&&s(2,n=e.color),"viewBox"in e&&s(3,r=e.viewBox)},[o,a,n,r,i]}class A extends e{constructor(e){super(),t(this,e,p,w,s,{size:4,width:0,height:1,color:2,viewBox:3})}}function x(e){let t,s,i,g,m,y,w,p,A;return{c(){t=d("div"),s=d("div"),i=d("div"),g=d("span"),m=u(),y=d("div"),w=d("span"),this.h()},l(e){t=o(e,"DIV",{class:!0,style:!0});var r=a(t);s=o(r,"DIV",{class:!0});var c=a(s);i=o(c,"DIV",{class:!0});var l=a(i);g=o(l,"SPAN",{style:!0,class:!0}),a(g).forEach(n),l.forEach(n),m=v(c),y=o(c,"DIV",{class:!0});var h=a(y);w=o(h,"SPAN",{style:!0,class:!0}),a(w).forEach(n),h.forEach(n),c.forEach(n),r.forEach(n),this.h()},h(){r(g,"style",e[1]),r(g,"class","svelte-g4m5ob"),r(i,"class","left meter svelte-g4m5ob"),r(w,"style",e[1]),r(w,"class","svelte-g4m5ob"),r(y,"class","right meter svelte-g4m5ob"),r(s,"class","inner svelte-g4m5ob"),r(t,"class","audio-levels svelte-g4m5ob"),r(t,"style",e[0])},m(o,a){c(o,t,a),l(t,s),l(s,i),l(i,g),l(s,m),l(s,y),l(y,w),p||(A=f(t,"click",e[3]),p=!0)},p(e,s){let[i]=s;2&i&&r(g,"style",e[1]),2&i&&r(w,"style",e[1]),1&i&&r(t,"style",e[0])},i:h,o:h,d(e){e&&n(t),p=!1,A()}}}function $(e,t,s){let i,o,a=0,n=0,{style:r}=t,{orientation:c="vertical"}=t;function l(){s(4,a=n),window.requestAnimationFrame(l)}return g((()=>{i&&i.getTracks().forEach((function(e){console.log("[AudioLevels] 🔈☠️  destroying stream:",e),e.stop()}))})),m((async()=>{navigator.mediaDevices&&(console.log("YOYOYO"),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){i=e,console.log("[AudioLevels] 🔈✅  successfully opened",e);const t=new AudioContext,s=t.createAnalyser(),o=t.createMediaStreamSource(e),a=t.createScriptProcessor(2048,1,1);s.smoothingTimeConstant=.8,s.fftSize=1024,o.connect(s),s.connect(a),a.connect(t.destination),window.requestAnimationFrame(l),a.onaudioprocess=function(){var e=new Uint8Array(s.frequencyBinCount);s.getByteFrequencyData(e);for(var t=0,i=e.length,o=0;o<i;o++)t+=e[o];n=Math.round(t/i)}})).catch((function(e){console.error(e)})))})),e.$$set=e=>{"style"in e&&s(0,r=e.style),"orientation"in e&&s(2,c=e.orientation)},e.$$.update=()=>{e.$$.dirty,16&e.$$.dirty&&s(1,o=`height: ${a}%`)},[r,o,c,function(t){y(e,t)}]}class B extends e{constructor(e){super(),t(this,e,$,x,s,{style:0,orientation:2})}}export{B as A,A as M};
