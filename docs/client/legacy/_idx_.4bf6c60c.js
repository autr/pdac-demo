import{S as e,i as t,s,l as n,a as r,n as o,p as a,q as i,h as l,d as c,r as $,u as d,e as m,w as f,N as u,x as g,V as p,o as h,a4 as x,F as w,G as v,c as y,J as E,b as N,m as b,f as I,K as S,t as D,g as A,j as T,k as B,M as _,v as z,U as O,E as P,O as V,P as R,a2 as M,L as q,B as k,z as j,Q as H,R as C}from"./client.641be926.js";import{S as F}from"./sessions.4affed9e.js";import{P as U}from"./Play.dc0cc998.js";import{R as G}from"./Refresh.e7cc329a.js";import{T as L}from"./index.3d02976a.js";import{G as Z}from"./GroupBlock.ab7be818.js";function J(e){let t,s,p,h,x,w,v,y,E,N,b,I,S,D=(Math.round(e[3])||"~")+"";return{c(){t=n("div"),s=n("span"),p=r(),h=n("span"),x=r(),w=n("span"),v=r(),y=n("span"),E=r(),N=n("span"),b=o(D),this.h()},l(e){t=a(e,"DIV",{class:!0,style:!0});var n=i(t);s=a(n,"SPAN",{class:!0,style:!0}),i(s).forEach(l),p=c(n),h=a(n,"SPAN",{class:!0,style:!0}),i(h).forEach(l),x=c(n),w=a(n,"SPAN",{class:!0,style:!0}),i(w).forEach(l),v=c(n),y=a(n,"SPAN",{class:!0,style:!0}),i(y).forEach(l),E=c(n),N=a(n,"SPAN",{class:!0});var r=i(N);b=$(r,D),r.forEach(l),n.forEach(l),this.h()},h(){d(s,"class","ring a svelte-1bdiq0m"),d(s,"style",e[5]),d(h,"class","ring b svelte-1bdiq0m"),d(h,"style",e[5]),d(w,"class","ring c svelte-1bdiq0m"),d(w,"style",e[5]),d(y,"class","bg svelte-1bdiq0m"),d(y,"style",e[5]),d(N,"class","txt svelte-1bdiq0m"),d(t,"class",I="timer "+e[1]+" "+(e[2]?"paused":"")+" svelte-1bdiq0m"),d(t,"style",S=""+(e[4]+e[0]))},m(e,n){m(e,t,n),f(t,s),f(t,p),f(t,h),f(t,x),f(t,w),f(t,v),f(t,y),f(t,E),f(t,N),f(N,b)},p(e,n){let[r]=n;32&r&&d(s,"style",e[5]),32&r&&d(h,"style",e[5]),32&r&&d(w,"style",e[5]),32&r&&d(y,"style",e[5]),8&r&&D!==(D=(Math.round(e[3])||"~")+"")&&u(b,D),6&r&&I!==(I="timer "+e[1]+" "+(e[2]?"paused":"")+" svelte-1bdiq0m")&&d(t,"class",I),17&r&&S!==(S=""+(e[4]+e[0]))&&d(t,"style",S)},i:g,o:g,d(e){e&&l(t)}}}function K(){for(var e=1;e<99999;e++)window.clearInterval(e),window.cancelAnimationFrame(e)}function Q(e,t,s){const n=p();let r,o,a,i,l,c,{time:$}=t,{size:d=150}=t,{style:m}=t,{className:f="spin"}=t,{paused:u=!1}=t,{id:g=""}=t,w=!1;function v(e){"undefined"==typeof window||"undefined"==typeof document||w||(K(),s(6,$=e),s(3,r=$),o=$,i=0,a=new Date,console.log("[Timer] ⏰  onRestart:",g),window.requestAnimationFrame(y),n("start",o))}function y(){if("undefined"!=typeof window&&"undefined"!=typeof document){let e=!0;if(!u&&r>0){i=(new Date-a)/1e3;const t=r;o=$-i,s(3,r=parseInt(o,10)),r!=t&&(n("second",o),0==r&&(n("end",o),K(),e=!1))}else a=new Date-1e3*i;e&&!w&&(console.log("[Timer] ⏰  onFrame:",g),window.requestAnimationFrame(y))}else console.error("there is no window to request animation frame from")}return h((async()=>{w=!1,console.log("[Timer] ⏰✅  onMount (restart) :",g),v($)})),x((()=>{console.log("[Timer] ⏰❌  onDestroy:",g),w=!0})),e.$$set=e=>{"time"in e&&s(6,$=e.time),"size"in e&&s(7,d=e.size),"style"in e&&s(0,m=e.style),"className"in e&&s(1,f=e.className),"paused"in e&&s(2,u=e.paused),"id"in e&&s(8,g=e.id)},e.$$.update=()=>{128&e.$$.dirty&&s(4,l=`font-size:${.4*d}px;line-height:${d}px;border-radius:${d}px;width:${d}px;height:${d}px;flex-basis:${d}px;max-height:${d}px;`),128&e.$$.dirty&&s(5,c=`border-radius:${d}px;animation-delay:-${Math.floor(100*Math.random())}s;`)},[m,f,u,r,l,c,$,d,g,v]}class W extends e{constructor(e){super(),t(this,e,Q,J,s,{time:6,size:7,style:0,className:1,paused:2,id:8,restart:9})}get restart(){return this.$$.ctx[9]}}function X(e){let t,s;return{c(){t=w("svg"),s=w("path"),this.h()},l(e){t=a(e,"svg",{width:!0,height:!0,viewBox:!0},1);var n=i(t);s=a(n,"path",{d:!0,fill:!0},1),i(s).forEach(l),n.forEach(l),this.h()},h(){d(s,"d","M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"),d(s,"fill",e[2]),d(t,"width",e[0]),d(t,"height",e[1]),d(t,"viewBox",e[3])},m(e,n){m(e,t,n),f(t,s)},p(e,n){let[r]=n;4&r&&d(s,"fill",e[2]),1&r&&d(t,"width",e[0]),2&r&&d(t,"height",e[1]),8&r&&d(t,"viewBox",e[3])},i:g,o:g,d(e){e&&l(t)}}}function Y(e,t,s){let{size:n="1em"}=t,{width:r=n}=t,{height:o=n}=t,{color:a="currentColor"}=t,{viewBox:i="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&s(4,n=e.size),"width"in e&&s(0,r=e.width),"height"in e&&s(1,o=e.height),"color"in e&&s(2,a=e.color),"viewBox"in e&&s(3,i=e.viewBox)},[r,o,a,i,n]}class ee extends e{constructor(e){super(),t(this,e,Y,X,s,{size:4,width:0,height:1,color:2,viewBox:3})}}function te(e){let t,s;return{c(){t=w("svg"),s=w("path"),this.h()},l(e){t=a(e,"svg",{width:!0,height:!0,viewBox:!0},1);var n=i(t);s=a(n,"path",{d:!0,fill:!0},1),i(s).forEach(l),n.forEach(l),this.h()},h(){d(s,"d","M14,19H18V5H14M6,19H10V5H6V19Z"),d(s,"fill",e[2]),d(t,"width",e[0]),d(t,"height",e[1]),d(t,"viewBox",e[3])},m(e,n){m(e,t,n),f(t,s)},p(e,n){let[r]=n;4&r&&d(s,"fill",e[2]),1&r&&d(t,"width",e[0]),2&r&&d(t,"height",e[1]),8&r&&d(t,"viewBox",e[3])},i:g,o:g,d(e){e&&l(t)}}}function se(e,t,s){let{size:n="1em"}=t,{width:r=n}=t,{height:o=n}=t,{color:a="currentColor"}=t,{viewBox:i="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&s(4,n=e.size),"width"in e&&s(0,r=e.width),"height"in e&&s(1,o=e.height),"color"in e&&s(2,a=e.color),"viewBox"in e&&s(3,i=e.viewBox)},[r,o,a,i,n]}class ne extends e{constructor(e){super(),t(this,e,se,te,s,{size:4,width:0,height:1,color:2,viewBox:3})}}function re(e,t,s){const n=e.slice();return n[32]=t[s],n}function oe(e){let t,s,n;function r(t){e[13].call(null,t)}let o={className:"spin",id:"INTRO: "+e[6].description,time:e[5].break_time+.999,paused:e[0]};return void 0!==e[2]&&(o.restart=e[2]),t=new W({props:o}),e[12](t),R.push((()=>H(t,"restart",r))),t.$on("start",Ne),t.$on("second",Ie),t.$on("end",e[8]),{c(){y(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,s){b(t,e,s),n=!0},p(e,n){const r={};64&n[0]&&(r.id="INTRO: "+e[6].description),32&n[0]&&(r.time=e[5].break_time+.999),1&n[0]&&(r.paused=e[0]),!s&&4&n[0]&&(s=!0,r.restart=e[2],C((()=>s=!1))),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){I(t.$$.fragment,e),n=!1},d(s){e[12](null),A(t,s)}}}function ae(e){let t,s;return t=new W({props:{className:"pulse",id:"RECORD: "+e[6].description,time:e[6].time}}),t.$on("start",be),t.$on("second",Se),t.$on("end",e[9]),{c(){y(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,s){const n={};64&s[0]&&(n.id="RECORD: "+e[6].description),64&s[0]&&(n.time=e[6].time),t.$set(n)},i(e){s||(D(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){A(t,e)}}}function ie(e){let t,s,n,r;const o=[ae,oe],a=[];function i(e,t){return e[1]?0:1}return t=i(e),s=a[t]=o[t](e),{c(){s.c(),n=E()},l(e){s.l(e),n=E()},m(e,s){a[t].m(e,s),m(e,n,s),r=!0},p(e,r){let l=t;t=i(e),t===l?a[t].p(e,r):(_(),I(a[l],1,1,(()=>{a[l]=null})),S(),s=a[t],s||(s=a[t]=o[t](e),s.c()),D(s,1),s.m(n.parentNode,n))},i(e){r||(D(s),r=!0)},o(e){I(s),r=!1},d(e){a[t].d(e),e&&l(n)}}}function le(e){let t,s=e[6].example.data&&ce(e);return{c(){s&&s.c(),t=E()},l(e){s&&s.l(e),t=E()},m(e,n){s&&s.m(e,n),m(e,t,n)},p(e,n){e[6].example.data?s?s.p(e,n):(s=ce(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(e){s&&s.d(e),e&&l(t)}}}function ce(e){let t,s;return{c(){t=n("audio"),this.h()},l(e){t=a(e,"AUDIO",{style:!0,class:!0,src:!0,autoplay:!0,controls:!0}),i(t).forEach(l),this.h()},h(){z(t,"max-width","120px"),d(t,"class","mtb06 grow"),t.src!==(s=e[6].example.data.full_url)&&d(t,"src",s),t.autoplay=!0,t.controls=!0},m(e,s){m(e,t,s)},p(e,n){64&n[0]&&t.src!==(s=e[6].example.data.full_url)&&d(t,"src",s)},d(e){e&&l(t)}}}function $e(e){let t,s,r,c=e[32].tag_id.title+"";return{c(){t=n("span"),s=o(c),r=o(" ")},l(e){t=a(e,"SPAN",{});var n=i(t);s=$(n,c),r=$(n," "),n.forEach(l)},m(e,n){m(e,t,n),f(t,s),f(t,r)},p(e,t){64&t[0]&&c!==(c=e[32].tag_id.title+"")&&u(s,c)},d(e){e&&l(t)}}}function de(e){let t,s,g,p,h,x,w,v,y,E,N,b,I,S,D,A,T,B=e[5].exercises.length+"",_=e[6].description+"",P="sound"==e[5].point_of_interest&&e[6].example&&le(e),V=e[6].tags,R=[];for(let t=0;t<V.length;t+=1)R[t]=$e(re(e,V,t));return{c(){P&&P.c(),t=r(),s=n("div"),g=n("div"),p=n("span"),h=o(e[4]),x=r(),w=n("span"),v=o("/"),y=r(),E=n("span"),N=o(B),b=r(),I=n("div"),S=o(_),D=r(),A=n("div"),T=o("Tags:\n\t\t\t");for(let e=0;e<R.length;e+=1)R[e].c();this.h()},l(n){P&&P.l(n),t=c(n),s=a(n,"DIV",{class:!0});var r=i(s);g=a(r,"DIV",{class:!0,style:!0});var o=i(g);p=a(o,"SPAN",{});var d=i(p);h=$(d,e[4]),d.forEach(l),x=c(o),w=a(o,"SPAN",{});var m=i(w);v=$(m,"/"),m.forEach(l),y=c(o),E=a(o,"SPAN",{});var f=i(E);N=$(f,B),f.forEach(l),o.forEach(l),b=c(r),I=a(r,"DIV",{});var u=i(I);S=$(u,_),u.forEach(l),D=c(r),A=a(r,"DIV",{class:!0});var z=i(A);T=$(z,"Tags:\n\t\t\t");for(let e=0;e<R.length;e+=1)R[e].l(z);z.forEach(l),r.forEach(l),this.h()},h(){d(g,"class","flex row mb02"),z(g,"font-size","1.6em"),z(g,"gap","0.1em"),z(g,"justify-content","center"),d(A,"class",""),d(s,"class","grow flex column")},m(e,n){P&&P.m(e,n),m(e,t,n),m(e,s,n),f(s,g),f(g,p),f(p,h),f(g,x),f(g,w),f(w,v),f(g,y),f(g,E),f(E,N),f(s,b),f(s,I),f(I,S),f(s,D),f(s,A),f(A,T);for(let e=0;e<R.length;e+=1)R[e].m(A,null)},p(e,s){if("sound"==e[5].point_of_interest&&e[6].example?P?P.p(e,s):(P=le(e),P.c(),P.m(t.parentNode,t)):P&&(P.d(1),P=null),16&s[0]&&u(h,e[4]),32&s[0]&&B!==(B=e[5].exercises.length+"")&&u(N,B),64&s[0]&&_!==(_=e[6].description+"")&&u(S,_),64&s[0]){let t;for(V=e[6].tags,t=0;t<V.length;t+=1){const n=re(e,V,t);R[t]?R[t].p(n,s):(R[t]=$e(n),R[t].c(),R[t].m(A,null))}for(;t<R.length;t+=1)R[t].d(1);R.length=V.length}},d(e){P&&P.d(e),e&&l(t),e&&l(s),O(R,e)}}}function me(e){let t,s,u,g,p,h,x;return s=new M({}),h=new v({props:{a:{grow:!0},className:"mlr06 pb06",$$slots:{default:[we]},$$scope:{ctx:e}}}),{c(){t=n("a"),y(s.$$.fragment),u=o(" Back"),p=r(),y(h.$$.fragment),this.h()},l(e){t=a(e,"A",{class:!0,style:!0,href:!0});var n=i(t);N(s.$$.fragment,n),u=$(n," Back"),n.forEach(l),p=c(e),N(h.$$.fragment,e),this.h()},h(){d(t,"class","p1 row"),z(t,"justify-content","flex-start"),z(t,"align-items","center"),z(t,"position","absolute"),z(t,"top","30px"),z(t,"left","0px"),z(t,"flex-direction","row"),z(t,"align-items","center"),d(t,"href",g="/session/"+e[5].url)},m(e,n){m(e,t,n),b(s,t,null),f(t,u),m(e,p,n),b(h,e,n),x=!0},p(e,s){(!x||32&s[0]&&g!==(g="/session/"+e[5].url))&&d(t,"href",g);const n={};33&s[0]|16&s[1]&&(n.$$scope={dirty:s,ctx:e}),h.$set(n)},i(e){x||(D(s.$$.fragment,e),D(h.$$.fragment,e),x=!0)},o(e){I(s.$$.fragment,e),I(h.$$.fragment,e),x=!1},d(e){e&&l(t),A(s),e&&l(p),A(h,e)}}}function fe(e){let t,s;return t=new q({props:{a:{grow:!0},className:"mlr06",$$slots:{default:[ye]},$$scope:{ctx:e}}}),{c(){y(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,s){const n={};16&s[1]&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){s||(D(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){A(t,e)}}}function ue(e){let t,s,r,o;return r=new G({props:{size:"2em"}}),{c(){t=n("div"),s=n("span"),y(r.$$.fragment),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=i(t);s=a(n,"SPAN",{});var o=i(s);N(r.$$.fragment,o),o.forEach(l),n.forEach(l),this.h()},h(){d(t,"class","centered")},m(e,n){m(e,t,n),f(t,s),b(r,s,null),o=!0},p:g,i(e){o||(D(r.$$.fragment,e),o=!0)},o(e){I(r.$$.fragment,e),o=!1},d(e){e&&l(t),A(r)}}}function ge(e){let t,s,r;return s=new ne({props:{size:"2em"}}),{c(){t=n("span"),y(s.$$.fragment)},l(e){t=a(e,"SPAN",{});var n=i(t);N(s.$$.fragment,n),n.forEach(l)},m(e,n){m(e,t,n),b(s,t,null),r=!0},i(e){r||(D(s.$$.fragment,e),r=!0)},o(e){I(s.$$.fragment,e),r=!1},d(e){e&&l(t),A(s)}}}function pe(e){let t,s,r;return s=new U({props:{size:"2em"}}),{c(){t=n("span"),y(s.$$.fragment)},l(e){t=a(e,"SPAN",{});var n=i(t);N(s.$$.fragment,n),n.forEach(l)},m(e,n){m(e,t,n),b(s,t,null),r=!0},i(e){r||(D(s.$$.fragment,e),r=!0)},o(e){I(s.$$.fragment,e),r=!1},d(e){e&&l(t),A(s)}}}function he(e){let t,s,r,o;const c=[pe,ge],$=[];function f(e,t){return e[0]?0:1}return s=f(e),r=$[s]=c[s](e),{c(){t=n("div"),r.c(),this.h()},l(e){t=a(e,"DIV",{class:!0});var s=i(t);r.l(s),s.forEach(l),this.h()},h(){d(t,"class","centered")},m(e,n){m(e,t,n),$[s].m(t,null),o=!0},p(e,n){let o=s;s=f(e),s!==o&&(_(),I($[o],1,1,(()=>{$[o]=null})),S(),r=$[s],r||(r=$[s]=c[s](e),r.c()),D(r,1),r.m(t,null))},i(e){o||(D(r),o=!0)},o(e){I(r),o=!1},d(e){e&&l(t),$[s].d()}}}function xe(e){let t,s;return{c(){t=n("div"),s=o("5s"),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=i(t);s=$(n,"5s"),n.forEach(l),this.h()},h(){d(t,"class","centered")},m(e,n){m(e,t,n),f(t,s)},d(e){e&&l(t)}}}function we(e){let t,s,n,o,a,i;return t=new k({props:{id:"buttonB",className:"override-button",a:{grow:!0},$$slots:{default:[ue]},$$scope:{ctx:e}}}),t.$on("click",e[14]),n=new k({props:{a:{grow:!0},$$slots:{default:[he]},$$scope:{ctx:e}}}),n.$on("click",e[15]),a=new k({props:{id:"buttonB",a:{grow:!0},className:"override-button",$$slots:{default:[xe]},$$scope:{ctx:e}}}),a.$on("click",e[16]),{c(){y(t.$$.fragment),s=r(),y(n.$$.fragment),o=r(),y(a.$$.fragment)},l(e){N(t.$$.fragment,e),s=c(e),N(n.$$.fragment,e),o=c(e),N(a.$$.fragment,e)},m(e,r){b(t,e,r),m(e,s,r),b(n,e,r),m(e,o,r),b(a,e,r),i=!0},p(e,s){const r={};16&s[1]&&(r.$$scope={dirty:s,ctx:e}),t.$set(r);const o={};1&s[0]|16&s[1]&&(o.$$scope={dirty:s,ctx:e}),n.$set(o);const i={};16&s[1]&&(i.$$scope={dirty:s,ctx:e}),a.$set(i)},i(e){i||(D(t.$$.fragment,e),D(n.$$.fragment,e),D(a.$$.fragment,e),i=!0)},o(e){I(t.$$.fragment,e),I(n.$$.fragment,e),I(a.$$.fragment,e),i=!1},d(e){A(t,e),e&&l(s),A(n,e),e&&l(o),A(a,e)}}}function ve(e){let t,s,u,p,h,x;return s=new ee({props:{size:"1.6em"}}),{c(){t=n("div"),y(s.$$.fragment),u=r(),p=n("div"),h=o("Panic!"),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=i(t);N(s.$$.fragment,n),u=c(n),p=a(n,"DIV",{class:!0});var r=i(p);h=$(r,"Panic!"),r.forEach(l),n.forEach(l),this.h()},h(){d(p,"class","ml04"),d(t,"class","centered")},m(e,n){m(e,t,n),b(s,t,null),f(t,u),f(t,p),f(p,h),x=!0},p:g,i(e){x||(D(s.$$.fragment,e),x=!0)},o(e){I(s.$$.fragment,e),x=!1},d(e){e&&l(t),A(s)}}}function ye(e){let t,s;return t=new k({props:{a:{grow:!0,height:"60px"},className:"pb1 flex row flex-grow",style:"justify-items: center; align-items: stretch;",$$slots:{default:[ve]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){y(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,n){b(t,e,n),s=!0},p(e,s){const n={};16&s[1]&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){s||(D(t.$$.fragment,e),s=!0)},o(e){I(t.$$.fragment,e),s=!1},d(e){A(t,e)}}}function Ee(e){let t,s,n,o,a,i,$,d;t=new Z({props:{className:"justify-center align-center mt3",$$slots:{default:[ie]},$$scope:{ctx:e}}}),n=new v({props:{a:{grow:!0},className:"align-center mlr06",$$slots:{default:[de]},$$scope:{ctx:e}}});const f=[fe,me],u=[];function g(e,t){return e[1]?0:1}return a=g(e),i=u[a]=f[a](e),{c(){y(t.$$.fragment),s=r(),y(n.$$.fragment),o=r(),i.c(),$=E()},l(e){N(t.$$.fragment,e),s=c(e),N(n.$$.fragment,e),o=c(e),i.l(e),$=E()},m(e,r){b(t,e,r),m(e,s,r),b(n,e,r),m(e,o,r),u[a].m(e,r),m(e,$,r),d=!0},p(e,s){const r={};111&s[0]|16&s[1]&&(r.$$scope={dirty:s,ctx:e}),t.$set(r);const o={};112&s[0]|16&s[1]&&(o.$$scope={dirty:s,ctx:e}),n.$set(o);let l=a;a=g(e),a===l?u[a].p(e,s):(_(),I(u[l],1,1,(()=>{u[l]=null})),S(),i=u[a],i||(i=u[a]=f[a](e),i.c()),D(i,1),i.m($.parentNode,$))},i(e){d||(D(t.$$.fragment,e),D(n.$$.fragment,e),D(i),d=!0)},o(e){I(t.$$.fragment,e),I(n.$$.fragment,e),I(i),d=!1},d(e){A(t,e),e&&l(s),A(n,e),e&&l(o),u[a].d(e),e&&l($)}}}function Ne(e){}function be(e){console.log("[session:slug:idx] 🔴🏁 record start:",e.detail)}function Ie(e){const t=parseInt(e.detail,10);if(t<=10&&0!=t){const s=1==t?"50 50 11 0.001":"100 100 1 0.001";console.log("Count",s,t),console.log("[session:slug:idx] 🖖 intro buzz:",e.detail)}}function Se(e){}function De(e,t,s){let n,r;T(e,j,(e=>s(24,r=e)));const{page:o}=B();T(e,o,(e=>s(20,n=e)));let a,i,l=!1,c=!1,$=F.data;h((async()=>{console.log("PDAC_MODE (client-side)",i),console.log("[session:slug:idx] 🤳 idx:",x)}));let d=0;let m=0;function f(e){P.set({type:"wait",message:"Sending to AI (Demo)"});const t={action:"stop",type:"🤖",timestamp:(new Date).toISOString().substr(11,8),message:"stopping exercise"};console.log("[idx.svelte] 🤖 ⚡️ 💅  sending config STOP to AI...",t),s(18,m+=1)}function u(e){console.log("WOOO",e),g&&g.restart(e),requestAnimationFrame((()=>{document.querySelectorAll("button").forEach((e=>{e.classList.remove("active")}))}))}let g=null;let p,x,w,v,y,E,N,b;return e.$$.update=()=>{1048576&e.$$.dirty[0]&&s(19,p=parseInt(n.params.idx,10)-1),1048576&e.$$.dirty[0]&&s(4,x=parseInt(n.params.idx,10)),1048576&e.$$.dirty[0]&&s(5,w=$.find((e=>n.params.slug==e.url))),524320&e.$$.dirty[0]&&s(6,v=w.exercises[p]?w.exercises[p].exercise_id:{example:{data:{}}}),64&e.$$.dirty[0]&&s(21,y=v.tags||[]),2097152&e.$$.dirty[0]&&(E=y.map((e=>e.tag_id.url))),18874416&e.$$.dirty[0]&&s(23,N=()=>{let e=r.hostname+"_";return e+=w.point_of_interest+"_",e+=w.url+"_",e+=x+"_",y.forEach(((t,s)=>{t.tag_id&&(e+=t.tag_id.url,s<y.length-1&&(e+="-"))})),console.log("[SESSION] 🗯 🦆  returning ID:",e),e}),8388608&e.$$.dirty[0]&&s(25,b=N()),33554432&e.$$.dirty[0]&&L(),131072&e.$$.dirty[0]&&0!=d&&setTimeout((()=>{console.log("SET TIMEOUT EVENT"),console.log("[session:slug:idx] 📸  begun recording ✅"),s(1,c=!0),P.set(null),s(17,d=0)}),2e3),262144&e.$$.dirty[0]&&0!=m&&setTimeout((()=>{s(1,c=!1);const e=p>=w.exercises.length-1?"/session/"+w.url+"/complete":"/session/"+w.url+"/"+(x+1);console.log("[session:slug:idx] 🛫  goto: ",e,p,w.exercises.length),V(e),P.set(null),s(18,m=0)}),2e3)},[l,c,a,g,x,w,v,o,function(e){console.log("[session:slug:idx] 🖖 INTRO ENDED RUNNING START:",e.detail),function(){P.set({type:"wait",status:"🤖",message:"Starting AI Session (Demo)"});const e=["liebe","trauer","wut","freude","uberraschung","verachtung","angst"];let t="none";E.forEach((s=>{-1!=e.indexOf(s)&&(t=s)}));const n={action:"start",title:t,tags:E,type:"🤖",length:v.time,timestamp:(new Date).toISOString().substr(11,8),message:`starting exercise: "${t}" ${v.time}s`};console.log("[idx.svelte] 🤖 ⚡️ 💅  sending config START to AI...",n),P.set({type:"wait",message:"Opening Camera Backend (Demo)"}),console.log("---\x3e BEFORE SET TIMEOUT EVENT"),s(17,d+=1)}()},function(e){console.log("[session:slug:idx] 🔴✅  recording ended:",e.detail),f()},f,u,function(e){R[e?"unshift":"push"]((()=>{g=e,s(3,g)}))},function(e){a=e,s(2,a)},()=>u(w.break_time+.9999),()=>s(0,l=!l),()=>u(5.99999)]}class Ae extends e{constructor(e){super(),t(this,e,De,Ee,s,{},[-1,-1])}}export{Ae as default};
