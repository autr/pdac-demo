import{S as e,i as t,s as a,F as s,p as n,q as i,h as o,u as r,e as c,w as $,x as l,I as d,L as m,c as f,a as h,b as g,d as p,m as u,t as v,f as w,g as b,j as x,ab as I,B as y,l as D,n as E,r as V,v as B,N,z as M,E as j,P as z,Q as C,R}from"./client.ed447a6d.js";import{G as S}from"./GroupBlock.ce09dbd0.js";import{I as A}from"./IndexDropdown.6d091dc6.js";import{R as k}from"./Refresh.29b02941.js";import{W as H}from"./Watch.300f8277.js";function G(e){let t,a;return{c(){t=s("svg"),a=s("path"),this.h()},l(e){t=n(e,"svg",{width:!0,height:!0,viewBox:!0},1);var s=i(t);a=n(s,"path",{d:!0,fill:!0},1),i(a).forEach(o),s.forEach(o),this.h()},h(){r(a,"d","M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"),r(a,"fill",e[2]),r(t,"width",e[0]),r(t,"height",e[1]),r(t,"viewBox",e[3])},m(e,s){c(e,t,s),$(t,a)},p(e,[s]){4&s&&r(a,"fill",e[2]),1&s&&r(t,"width",e[0]),2&s&&r(t,"height",e[1]),8&s&&r(t,"viewBox",e[3])},i:l,o:l,d(e){e&&o(t)}}}function L(e,t,a){let{size:s="1em"}=t,{width:n=s}=t,{height:i=s}=t,{color:o="currentColor"}=t,{viewBox:r="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&a(4,s=e.size),"width"in e&&a(0,n=e.width),"height"in e&&a(1,i=e.height),"color"in e&&a(2,o=e.color),"viewBox"in e&&a(3,r=e.viewBox)},[n,i,o,r,s]}class T extends e{constructor(e){super(),t(this,e,L,G,a,{size:4,width:0,height:1,color:2,viewBox:3})}}function U(e){let t,a,s,r,$,l;function d(t){e[5].call(null,t)}a=new H({props:{size:"1.4em"}});let m={style:"min-height:4em",className:"icon-inset aui-dropdown"};return void 0!==e[0]&&(m.a=e[0]),r=new A({props:m}),z.push((()=>C(r,"a",d))),{c(){t=D("div"),f(a.$$.fragment),s=h(),f(r.$$.fragment),this.h()},l(e){t=n(e,"DIV",{style:!0});var c=i(t);g(a.$$.fragment,c),c.forEach(o),s=p(e),g(r.$$.fragment,e),this.h()},h(){B(t,"position","absolute"),B(t,"top","1.25em"),B(t,"left","1em")},m(e,n){c(e,t,n),u(a,t,null),c(e,s,n),u(r,e,n),l=!0},p(e,t){const a={};!$&&1&t&&($=!0,a.a=e[0],R((()=>$=!1))),r.$set(a)},i(e){l||(v(a.$$.fragment,e),v(r.$$.fragment,e),l=!0)},o(e){w(a.$$.fragment,e),w(r.$$.fragment,e),l=!1},d(e){e&&o(t),b(a),e&&o(s),b(r,e)}}}function W(e){let t,a,s,d,m,x;return a=new T({props:{size:"1.4em"}}),{c(){t=D("div"),f(a.$$.fragment),s=h(),d=D("div"),m=E("Save Changes"),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=i(t);g(a.$$.fragment,r),s=p(r),d=n(r,"DIV",{class:!0});var c=i(d);m=V(c,"Save Changes"),c.forEach(o),r.forEach(o),this.h()},h(){r(d,"class","ml04"),r(t,"class","centered")},m(e,n){c(e,t,n),u(a,t,null),$(t,s),$(t,d),$(d,m),x=!0},p:l,i(e){x||(v(a.$$.fragment,e),x=!0)},o(e){w(a.$$.fragment,e),x=!1},d(e){e&&o(t),b(a)}}}function _(e){let t,a,s,d,m,x;return a=new k({props:{size:"1.4em"}}),{c(){t=D("div"),f(a.$$.fragment),s=h(),d=D("div"),m=E("Reconnect MiBand"),this.h()},l(e){t=n(e,"DIV",{class:!0});var r=i(t);g(a.$$.fragment,r),s=p(r),d=n(r,"DIV",{class:!0});var c=i(d);m=V(c,"Reconnect MiBand"),c.forEach(o),r.forEach(o),this.h()},h(){r(d,"class","ml04"),r(t,"class","centered")},m(e,n){c(e,t,n),u(a,t,null),$(t,s),$(t,d),$(d,m),x=!0},p:l,i(e){x||(v(a.$$.fragment,e),x=!0)},o(e){w(a.$$.fragment,e),x=!1},d(e){e&&o(t),b(a)}}}function q(e){let t,a,s,l,d,m,x,I,M,j,z,C,R,A,k,H,G,L,T,q,F,O,P,Q,Z,J=e[1].mibandName+"",K=e[1].mibandNumber+"",X=e[1].mibandInitialised?"Initialised":"Uninitialised",Y=e[1].mibandConnected?"Connected":"Disconnected";return q=new S({props:{a:{grow:!1},className:"relative",style:"position:relative",$$slots:{default:[U]},$$scope:{ctx:e}}}),O=new y({props:{a:{grow:!0},$$slots:{default:[W]},$$scope:{ctx:e}}}),O.$on("click",e[2]),Q=new y({props:{a:{grow:!0},$$slots:{default:[_]},$$scope:{ctx:e}}}),Q.$on("click",e[3]),{c(){t=D("div"),a=D("div"),s=E("MiBand"),l=h(),d=D("div"),m=E(J),x=E(" ("),I=E(K),M=E(")"),j=h(),z=D("div"),C=D("div"),R=E("Status"),A=h(),k=D("div"),H=E(X),G=E(" /\n\t\t\t"),L=E(Y),T=h(),f(q.$$.fragment),F=h(),f(O.$$.fragment),P=h(),f(Q.$$.fragment),this.h()},l(e){t=n(e,"DIV",{class:!0,style:!0});var r=i(t);a=n(r,"DIV",{});var c=i(a);s=V(c,"MiBand"),c.forEach(o),l=p(r),d=n(r,"DIV",{});var $=i(d);m=V($,J),x=V($," ("),I=V($,K),M=V($,")"),$.forEach(o),r.forEach(o),j=p(e),z=n(e,"DIV",{class:!0,style:!0});var f=i(z);C=n(f,"DIV",{});var h=i(C);R=V(h,"Status"),h.forEach(o),A=p(f),k=n(f,"DIV",{});var u=i(k);H=V(u,X),G=V(u," /\n\t\t\t"),L=V(u,Y),u.forEach(o),f.forEach(o),T=p(e),g(q.$$.fragment,e),F=p(e),g(O.$$.fragment,e),P=p(e),g(Q.$$.fragment,e),this.h()},h(){r(t,"class","flex row"),B(t,"justify-content","space-between"),r(z,"class","flex row"),B(z,"justify-content","space-between")},m(e,n){c(e,t,n),$(t,a),$(a,s),$(t,l),$(t,d),$(d,m),$(d,x),$(d,I),$(d,M),c(e,j,n),c(e,z,n),$(z,C),$(C,R),$(z,A),$(z,k),$(k,H),$(k,G),$(k,L),c(e,T,n),u(q,e,n),c(e,F,n),u(O,e,n),c(e,P,n),u(Q,e,n),Z=!0},p(e,t){(!Z||2&t)&&J!==(J=e[1].mibandName+"")&&N(m,J),(!Z||2&t)&&K!==(K=e[1].mibandNumber+"")&&N(I,K),(!Z||2&t)&&X!==(X=e[1].mibandInitialised?"Initialised":"Uninitialised")&&N(H,X),(!Z||2&t)&&Y!==(Y=e[1].mibandConnected?"Connected":"Disconnected")&&N(L,Y);const a={};513&t&&(a.$$scope={dirty:t,ctx:e}),q.$set(a);const s={};512&t&&(s.$$scope={dirty:t,ctx:e}),O.$set(s);const n={};512&t&&(n.$$scope={dirty:t,ctx:e}),Q.$set(n)},i(e){Z||(v(q.$$.fragment,e),v(O.$$.fragment,e),v(Q.$$.fragment,e),Z=!0)},o(e){w(q.$$.fragment,e),w(O.$$.fragment,e),w(Q.$$.fragment,e),Z=!1},d(e){e&&o(t),e&&o(j),e&&o(z),e&&o(T),b(q,e),e&&o(F),b(O,e),e&&o(P),b(Q,e)}}}function F(e){let t,a,s,n;return t=new d({props:{href:"/system"}}),s=new m({props:{className:"p06 bt2-solid flex column",a:{grow:!0},$$slots:{default:[q]},$$scope:{ctx:e}}}),{c(){f(t.$$.fragment),a=h(),f(s.$$.fragment)},l(e){g(t.$$.fragment,e),a=p(e),g(s.$$.fragment,e)},m(e,i){u(t,e,i),c(e,a,i),u(s,e,i),n=!0},p(e,[t]){const a={};515&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a)},i(e){n||(v(t.$$.fragment,e),v(s.$$.fragment,e),n=!0)},o(e){w(t.$$.fragment,e),w(s.$$.fragment,e),n=!1},d(e){b(t,e),e&&o(a),b(s,e)}}}function O(e,t,a){let s;x(e,M,(e=>a(1,s=e)));let{data:n}=t,i={options:I.map(((e,t)=>({...e,label:`${e.mac_address} (${e.id})`}))),placeholder:"Select Miband",key:"label",grow:!0,value:I.indexOf(I.find((e=>e.id==s.mibandNumber)))},o=0;return e.$$set=e=>{"data"in e&&a(4,n=e.data)},e.$$.update=()=>{64&e.$$.dirty&&function(e){0!=e&&setTimeout((()=>{console.log(i.value,I.length);const t=I[i.value-1];t&&M.update((e=>(e.mibandNumber=t.id,e.mibandName=t.mac_address,e))),e=0,j.set(null)}),1e3)}(o?999:0)},0!=0&&setTimeout((()=>{j.set(null)}),1e3),[i,s,function(){j.set({type:"wait",message:"Resetting Midband (Demo)"}),a(6,o+=10)},function(){console.log("[Session] ⌚️  Miband reconnecting..."),j.set({type:"wait",message:"Reconnecting "+s.mibandName}),a(6,o+=10)},n,function(e){i=e,a(0,i)}]}class P extends e{constructor(e){super(),t(this,e,O,F,a,{data:4})}}export{P as default};
